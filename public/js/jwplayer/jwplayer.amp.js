/*!
   JW Player version 8.15.0
   Copyright (c) 2020, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.15.0/notice.txt
*/
(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[1],{167:function(e,t,a){"use strict";a.r(t);var s=a(0),n={play:"play",pause:"pause",complete:"complete",meta:"meta",mute:"mute",visible:"visible",adImpression:"adImpression",adComplete:"adComplete",adPlay:"adPlay",adPause:"adPause",adTime:"adTime",time:"time",controls:"controls",resize:"resize"},i=function(){function e(e){this.api=e,this.model=null,this.onCommand=this.onCommand.bind(this)}var t=e.prototype;return t.setup=function(e){return this.model=e,this.subscribe(),this.sendMessage({event:"ready",detail:{playlistItem:this.getPlaylistItem(),muted:this.model.getMute()}})},t.getPlaylistItem=function(){return Object(s.j)(this.model.get("playlistItem"),{meta:this.getMetadata()})},t.getPlayedRanges=function(){for(var e=this.model.get("mediaElement").played,t=e.length,a=[],s=0;s<t;s++)a.push([e.start(s),e.end(s)]);return a},t.getMetadata=function(){var e=navigator&&navigator.mediaSession&&navigator.mediaSession.metadata;if(e)return{title:e.title,artist:e.artist,album:e.album,artwork:e.artwork}},t.subscribe=function(){var e=this;this.unsubscribe(),Object.keys(n).forEach((function(t){e.api.on(t,(function(a){var n=Object(s.j)({},a);n.client&&"vast"===n.client&&["request","response"].forEach((function(e){delete n[e]})),e.sendMessage({event:t,detail:n})}),e)})),this.model.on("change:fullscreen",(function(t,a){e.sendMessage({event:"fullscreen",detail:{fullscreen:a}})}),this),this.model.on("change:playlistItem",(function(t,a){return e.sendMessage({event:"playlistItem",detail:a})}),this),window.addEventListener("message",this.onCommand)},t.sendMessage=function(e,t){void 0===t&&(t="*"),window.parent.postMessage(e,t)},t.onCommand=function(e){if(e.data&&e.source===window.parent){var t=JSON.parse(e.data);if(t&&"object"==typeof t){var a=t.method,s=t.optParams;if("getPlayedRanges"===a){var n={ranges:this.getPlayedRanges()};return this.sendMessage({event:"playedRanges",detail:n})}return this.api[a]?this.api[a](s):void 0}}},t.unsubscribe=function(){this.api&&this.api.off(null,null,this),this.model&&this.model.off(null,null,this),window.removeEventListener("message",this.onCommand)},e}();t.default=i}}]);